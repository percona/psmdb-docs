# Percona Server for MongoDB 6.0.6-5 (2023-05-)

| Release date | May , 2023|
|------------- | ---------------|
| **Installation** | [Installing Percona Server for MongoDB](../install/index.md) |


Percona Server for MongoDB 6.0.6-5 is an enhanced, source-available, and highly-scalable database that is a
fully-compatible, drop-in replacement for MongoDB 6.0.6 Community Edition.

It is rebased on [MongoDB 6.0.6 Community edition](https://www.mongodb.com/docs/manual/release-notes/6.0/#6.0.6---mar-13--2023) and supports the upstream protocols and drivers.

## Release Highlights

Improvements and bug fixes, provided by MongoDB and included in Percona Server for MongoDB are the following:

* [SERVER-51835](https://jira.mongodb.org/browse/SERVER-51835) - Fixed the handling of the read preference tags to respect their order and ignore other tags when all eligible replica set members are found.
* [SERVER-67105](https://jira.mongodb.org/browse/SERVER-67105) - Allowed usage of clustered index in queries.
* [SERVER-72774](https://jira.mongodb.org/browse/SERVER-72774) - Prevented a node in quiesce mode to win election.
* [SERVER-74930](https://jira.mongodb.org/browse/SERVER-74930) - Fixed the issue with the `$avg` operator to return the sum instead of the average within a `$group` stage
* [SERVER-75205](https://jira.mongodb.org/browse/SERVER-75205) - Fixed deadlock between `stepdown` and `restoring` locks after yielding when all read tickets exhausted

Find the full list of new features and improvements in [MongoDB 6.0.6 Community edition release notes](https://www.mongodb.com/docs/manual/release-notes/6.0/#6.0.6---).


## Bugs Fixed

## Bugs Fixed

* [PSMDB-1211](https://jira.percona.com/browse/PSMDB-1211): Improved the master key rotation handling in case of failure
* [PSMDB-1231](https://jira.percona.com/browse/PSMDB-1231): Register a master key for data-at-rest encryption encryption on the KMIP server in the raw-bytes form
* [PSMDB-1239](https://jira.percona.com/browse/PSMDB-1239): Fixed the issue with PSMDB failing to restart when wrong data-at-rest encryption options were used during the previous start  

